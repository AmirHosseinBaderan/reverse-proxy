domain: test.local

proxy:
  upstreams:
    - http://localhost:5042
    - http://localhost:5043

  load_balance:
    algorithm: random

  headers:
    X-Forwarded-For: $remote_addr
    X-Forwarded-Proto: $scheme

  paths:
    - path: /api/
      upstreams:
        - http://api-server1:3000
        - http://api-server2:3000
        - http://api-server3:3000
      load_balance:
        algorithm: round-robin
      headers:
        X-API-Key: secret-api-key
        X-Environment: production

timeouts:
  read: 10s
  write: 10s
